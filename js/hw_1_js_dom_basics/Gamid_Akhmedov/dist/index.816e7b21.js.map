{"mappings":"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","sources":["src/app.js"],"sourcesContent":["const meshContainer = document.querySelector(\".mesh\");\r\nconst scoreContainer = document.querySelector(\".score\");\r\nconst startBtn = document.querySelector(\".button_start\")\r\n\r\n/**\r\n * @description A function to be executed after each game iteration, is set to null by default\r\n */\r\nlet deactivateElement = null;\r\n/**\r\n * @description Current score\r\n */\r\nlet currentScore = 0;\r\nlet currentClicks = 1;\r\nscoreContainer.innerText = currentScore;\r\n/**\r\n * @description Game speed\r\n */\r\nlet gameIterationDuration = 1500;\r\n\r\nlet prevIndex\r\n\r\nfor (let i = 0; i < 25; i++) {\r\n  let element = document.createElement(\"div\")\r\n  element.classList.add(\"item\")\r\n  meshContainer.appendChild(element)\r\n}\r\n\r\nconst meshSize = meshContainer.children.length;\r\n\r\n\r\nlet interval\r\n\r\nconst onClick = () => {\r\n  interval = setInterval(runGameIteration, gameIterationDuration)\r\n\r\n  startBtn.removeEventListener('click', onClick)\r\n};\r\n\r\nstartBtn.addEventListener('click', onClick)\r\n\r\nlet restart = () => {\r\n  runGameIteration()\r\n  interval = setInterval(runGameIteration, gameIterationDuration);\r\n}\r\n\r\n\r\n\r\nfunction runGameIteration() {\r\n  if (deactivateElement) {\r\n    deactivateElement();\r\n  }\r\n  \r\n  let randomIndex;\r\n\r\n  do {\r\n    randomIndex = getRandomNumber(meshSize - 1);\r\n  } while (randomIndex === prevIndex);\r\n\r\n  const activeElement = meshContainer.children[randomIndex];\r\n  prevIndex = randomIndex\r\n\r\n  const meshClick = (e) => {\r\n    if (e.target.classList.contains(\"item-highlighted\")) {\r\n      if (currentScore > -20) {\r\n        meshContainer.removeEventListener('click', meshClick)\r\n        currentScore += 1\r\n        currentClicks += 1\r\n        scoreContainer.innerText = currentScore;\r\n        if(currentScore >= 20) {\r\n          clearInterval(interval)\r\n        } else {\r\n          clearInterval(interval)\r\n          restart()\r\n        }\r\n      } else {\r\n        meshContainer.removeEventListener('click', meshClick)\r\n      }\r\n    } else {\r\n      currentScore -= 3\r\n    }\r\n    e.stopImmediatePropagation()\r\n  }\r\n  \r\n  meshContainer.addEventListener('click', meshClick)\r\n  \r\n  \r\n  if (activeElement) {\r\n    deactivateElement = activateElement(activeElement)\r\n  }\r\n  \r\n  if (currentClicks === 0) {\r\n    currentScore -= 5\r\n  }\r\n\r\n  scoreContainer.innerText = currentScore;\r\n  currentClicks = 0\r\n\r\n  if (currentScore >= 0) {\r\n    meshContainer.style.backgroundColor = \"#419884\"\r\n  } else {\r\n    meshContainer.style.backgroundColor = \"#ba7474\"\r\n  }\r\n  \r\n  if (currentScore <= -20) {\r\n    clearInterval(interval)\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction activateElement(element) {\r\n  const variant = getVariantForIndex();\r\n  element.classList.add(\"item-highlighted\", variant);\r\n\r\n  return function unhighlight() {\r\n    element.classList.remove(\"item-highlighted\", variant);\r\n  };\r\n}\r\n\r\n\r\n\r\n/**\r\n * @description This function takes an integer and returns a random integer between 0 and the given number\r\n */\r\nfunction getRandomNumber(max) {\r\n  return Math.floor(Math.random() * 10) % max;\r\n}\r\n\r\nfunction getVariantForIndex() {\r\n  const variants = [\r\n    \"item-highlighted-1\",\r\n    \"item-highlighted-2\",\r\n    \"item-highlighted-3\",\r\n    \"item-highlighted-4\",\r\n    \"item-highlighted-5\",\r\n    \"item-highlighted-6\",\r\n  ];\r\n  return variants[getRandomNumber(variants.length)];\r\n}\r\n"],"names":[],"version":3,"file":"index.816e7b21.js.map","sourceRoot":"/__parcel_source_root/"}